"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[404],{1404:(Ho,vn,R)=>{R.d(vn,{CP:()=>Vt,rG:()=>Fo,kf:()=>Lo,y3:()=>No,DT:()=>ko,ng:()=>hn,rE:()=>Zo,BM:()=>Uo});var d=R(5857);const nt=new WeakMap;function Qt(t,e){return nt.get(t)&&nt.get(t).get(e)}function rt(t,e,n){if(void 0===e)throw new TypeError;const r=Qt(e,n);return r&&r.get(t)}function qt(t,e,n,r){if(r&&!["string","symbol"].includes(typeof r))throw new TypeError;(Qt(n,r)||function xn(t,e){const n=nt.get(t)||new Map;nt.set(t,n);const r=n.get(e)||new Map;return n.set(e,r),r}(n,r)).set(t,e)}function wt(t,e,n){return rt(t,e,n)?rt(t,e,n):Object.getPrototypeOf(e)?wt(t,Object.getPrototypeOf(e),n):void 0}Object.assign(Reflect,{decorate:function Rn(t,e,n,r){if(!Array.isArray(t)||0===t.length)throw new TypeError;return void 0!==n?function bn(t,e,n,r){return t.reverse().forEach(o=>{r=o(e,n,r)||r}),r}(t,e,n,r):"function"==typeof e?function wn(t,e){return t.reverse().forEach(n=>{const r=n(e);r&&(e=r)}),e}(t,e):void 0},defineMetadata:function Tn(t,e,n,r){qt(t,e,n,r)},getMetadata:function On(t,e,n){return wt(t,e,n)},getOwnMetadata:function Mn(t,e,n){return rt(t,e,n)},hasMetadata:function En(t,e,n){return!!wt(t,e,n)},hasOwnMetadata:function Sn(t,e,n){return!!rt(t,e,n)},metadata:function jn(t,e){return function(r,o){qt(t,e,r,o)}}});var h=R(5339);function D(t,e,n,r){var s,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(e,n,i):s(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i}function ot(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}var C=R(5163),ne=typeof window>"u"?typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:global:window;function M(t){if("string"==typeof t)return t;if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString(),n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}var An=0,T=ne.Reflect;function re(t){return"function"==typeof t&&t.hasOwnProperty("annotation")&&(t=t.annotation),t}function oe(t,e){if(t===Object||t===String||t===Function||t===Number||t===Array)throw new Error("Can not use native "+M(t)+" as constructor");if("function"==typeof t)return t;if(Array.isArray(t)){var n=t,r=n.length-1,o=t[r];if("function"!=typeof o)throw new Error("Last position of Class method array must be Function in key "+e+" was '"+M(o)+"'");if(r!==o.length)throw new Error("Number of annotations ("+r+") does not match number of arguments ("+o.length+") in the function: "+M(o));for(var i=[],s=0,a=n.length-1;s<a;s++){var u=[];i.push(u);var c=n[s];if(Array.isArray(c))for(var f=0;f<c.length;f++)u.push(re(c[f]));else u.push("function"==typeof c?re(c):c)}return T.defineMetadata("parameters",i,o),o}throw new Error("Only Function or Array is supported in Class definition for key '"+e+"' is '"+M(t)+"'")}function Dn(t){var e=oe(t.hasOwnProperty("constructor")?t.constructor:void 0,"constructor"),n=e.prototype;if(t.hasOwnProperty("extends")){if("function"!=typeof t.extends)throw new Error("Class definition 'extends' property must be a constructor function was: "+M(t.extends));e.prototype=n=Object.create(t.extends.prototype)}for(var r in t)"extends"!==r&&"prototype"!==r&&t.hasOwnProperty(r)&&(n[r]=oe(t[r],r));this&&this.annotations instanceof Array&&T.defineMetadata("annotations",this.annotations,e);var o=e.name;return(!o||"constructor"===o)&&(e.overriddenName="class"+An++),e}function xt(t){return function(){for(var n=this,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];t.forEach(function(i,s){var a=r[s];if(Array.isArray(i))n[i[0]]=void 0===a?i[1]:a;else for(var u in i)n[u]=a&&a.hasOwnProperty(u)?a[u]:i[u]})}}function Y(t,e,n){var r=xt(e);function o(){for(var i,s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];if(this instanceof o)return r.apply(this,s),this;var u=new((i=o).bind.apply(i,(0,C.pr)([void 0],s)));return c.annotation=u,c;function c(f,l,p){for(var m=T.getOwnMetadata("parameters",f)||[];m.length<=p;)m.push(null);return m[p]=m[p]||[],m[p].push(u),T.defineMetadata("parameters",m,f),f}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.toString=function(){return"@"+t},o.annotationCls=o,o}var ie=Y("Inject",[["token",void 0]]),Bn=Y("Optional",[]),B=function Cn(t,e,n,r){var o=xt([e]);function i(s){if(!T||!T.getOwnMetadata)throw"reflect-metadata shim is required when using class decorators";if(this instanceof i)return o.call(this,s),this;var a=new i(s),u="function"==typeof this&&Array.isArray(this.annotations)?this.annotations:[];u.push(a);var c=function(l){var p=T.getOwnMetadata("annotations",l)||[];return p.push(a),T.defineMetadata("annotations",p,l),l};return c.annotations=u,c.Class=Dn,r&&r(c),c}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.toString=function(){return"@"+t},i.annotationCls=i,i}("Injectable",[]),se=Y("Self",[]),ae=Y("SkipSelf",[]);function ce(t){return t.__forward_ref__=ce,t.toString=function(){return M(this())},t}function jt(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===ce?t():t}Y("Host",[]);var at=new Object,Ot=at,In=function(){function t(){}return t.prototype.get=function(e,n){if(void 0===n&&(n=at),n===at)throw new Error("No provider for "+M(e)+"!");return n},t}(),Fn=function(){function t(){}return t.THROW_IF_NOT_FOUND=at,t.NULL=new In,t}(),Mt="ngOriginalError";function St(t){return t.length>1?" ("+function Gn(t){for(var e=[],n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}(t.slice().reverse()).map(function(r){return M(r.token)}).join(" -> ")+")":""}function Et(t,e,n,r){var o=r?function Kn(t,e){var n=t+" caused by: "+(e instanceof Error?e.message:e),r=Error(n);return r[Mt]=e,r}("",r):Error();return o.addKey=$n,o.keys=[e],o.injectors=[t],o.constructResolvingMessage=n,o.message=o.constructResolvingMessage(),o[Mt]=r,o}function $n(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage()}function ue(t,e){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];n.push(i&&0!==i.length?i.map(M).join(" "):"?")}return Error("Cannot resolve all parameters for '"+M(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+M(t)+"' is decorated with Injectable.")}function Jn(t,e){return Error("Cannot mix multi providers and regular providers, got: "+t+" "+e)}var _=function(){function t(e,n){if(this.token=e,this.id=n,!e)throw new Error("Token must be defined!")}return Object.defineProperty(t.prototype,"displayName",{get:function(){return M(this.token)},enumerable:!1,configurable:!0}),t.get=function(e){return fe.get(jt(e))},Object.defineProperty(t,"numberOfKeys",{get:function(){return fe.numberOfKeys},enumerable:!1,configurable:!0}),t}(),Qn=function(){function t(){this._allKeys=new Map}return t.prototype.get=function(e){if(e instanceof _)return e;if(this._allKeys.has(e))return this._allKeys.get(e);var n=new _(e,_.numberOfKeys);return this._allKeys.set(e,n),n},Object.defineProperty(t.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!1,configurable:!0}),t}(),fe=new Qn,Tt=Function;function Pt(t){return"function"==typeof t}var qn=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,Xn=function(){function t(e){this._reflect=e||ne.Reflect}return t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new(e.bind.apply(e,(0,C.pr)([void 0],n)))}},t.prototype._zipTypesAndAnnotations=function(e,n){var r;r=new Array(typeof e>"u"?n.length:e.length);for(var o=0;o<r.length;o++)r[o]=typeof e>"u"?[]:e[o]!=Object?[e[o]]:[],n&&null!=n[o]&&(r[o]=r[o].concat(n[o]));return r},t.prototype._ownParameters=function(e,n){if(qn.exec(e.toString()))return null;if(e.parameters&&e.parameters!==n.parameters)return e.parameters;var r=e.ctorParameters;if(r&&r!==n.ctorParameters){var o="function"==typeof r?r():r,i=o.map(function(a){return a&&a.type}),s=o.map(function(a){return a&&_t(a.decorators)});return this._zipTypesAndAnnotations(i,s)}return null!=this._reflect&&null!=this._reflect.getOwnMetadata&&(s=this._reflect.getOwnMetadata("parameters",e),(i=this._reflect.getOwnMetadata("design:paramtypes",e))||s)?this._zipTypesAndAnnotations(i,s):new Array(e.length).fill(void 0)},t.prototype.parameters=function(e){if(!Pt(e))return[];var n=At(e),r=this._ownParameters(e,n);return!r&&n!==Object&&(r=this.parameters(n)),r||[]},t.prototype._ownAnnotations=function(e,n){if(e.annotations&&e.annotations!==n.annotations){var r=e.annotations;return"function"==typeof r&&r.annotations&&(r=r.annotations),r}return e.decorators&&e.decorators!==n.decorators?_t(e.decorators):this._reflect&&this._reflect.getOwnMetadata?this._reflect.getOwnMetadata("annotations",e):null},t.prototype.annotations=function(e){if(!Pt(e))return[];var n=At(e),r=this._ownAnnotations(e,n)||[];return(n!==Object?this.annotations(n):[]).concat(r)},t.prototype._ownPropMetadata=function(e,n){if(e.propMetadata&&e.propMetadata!==n.propMetadata){var r=e.propMetadata;return"function"==typeof r&&r.propMetadata&&(r=r.propMetadata),r}if(e.propDecorators&&e.propDecorators!==n.propDecorators){var o=e.propDecorators,i={};return Object.keys(o).forEach(function(s){i[s]=_t(o[s])}),i}return this._reflect&&this._reflect.getOwnMetadata?this._reflect.getOwnMetadata("propMetadata",e):null},t.prototype.propMetadata=function(e){if(!Pt(e))return{};var n=At(e),r={};if(n!==Object){var o=this.propMetadata(n);Object.keys(o).forEach(function(s){r[s]=o[s]})}var i=this._ownPropMetadata(e,n);return i&&Object.keys(i).forEach(function(s){var a=[];r.hasOwnProperty(s)&&a.push.apply(a,r[s]),a.push.apply(a,i[s]),r[s]=a}),r},t.prototype.hasLifecycleHook=function(e,n){return e instanceof Tt&&n in e.prototype},t.prototype.getter=function(e){return new Function("o","return o."+e+";")},t.prototype.setter=function(e){return new Function("o","v","return o."+e+" = v;")},t.prototype.method=function(e){return new Function("o","args","if (!o."+e+") throw new Error('\""+e+"\" is undefined');\n        return o."+e+".apply(o, args);")},t.prototype.importUri=function(e){return"object"==typeof e&&e.filePath?e.filePath:"./"+M(e)},t.prototype.resourceUri=function(e){return"./"+M(e)},t.prototype.resolveIdentifier=function(e,n,r,o){return o},t.prototype.resolveEnum=function(e,n){return e[n]},t}();function _t(t){return t?t.map(function(e){var r=e.type.annotationCls;return new(r.bind.apply(r,(0,C.pr)([void 0],e.args?e.args:[])))}):[]}function At(t){if(!t.prototype)return Object;var e=Object.getPrototypeOf(t.prototype);return(e?e.constructor:null)||Object}var er=function(t){function e(n){var r=t.call(this)||this;return r.reflectionCapabilities=n,r}return(0,C.ZT)(e,t),e.prototype.updateCapabilities=function(n){this.reflectionCapabilities=n},e.prototype.factory=function(n){return this.reflectionCapabilities.factory(n)},e.prototype.parameters=function(n){return this.reflectionCapabilities.parameters(n)},e.prototype.annotations=function(n){return this.reflectionCapabilities.annotations(n)},e.prototype.propMetadata=function(n){return this.reflectionCapabilities.propMetadata(n)},e.prototype.hasLifecycleHook=function(n,r){return this.reflectionCapabilities.hasLifecycleHook(n,r)},e.prototype.getter=function(n){return this.reflectionCapabilities.getter(n)},e.prototype.setter=function(n){return this.reflectionCapabilities.setter(n)},e.prototype.method=function(n){return this.reflectionCapabilities.method(n)},e.prototype.importUri=function(n){return this.reflectionCapabilities.importUri(n)},e.prototype.resourceUri=function(n){return this.reflectionCapabilities.resourceUri(n)},e.prototype.resolveIdentifier=function(n,r,o,i){return this.reflectionCapabilities.resolveIdentifier(n,r,o,i)},e.prototype.resolveEnum=function(n,r){return this.reflectionCapabilities.resolveEnum(n,r)},e}(function t(){}),le=new er(new Xn),nr=function(){function t(e){this._desc=e}return t.prototype.toString=function(){return"Token "+this._desc},t}(),rr=function(t){function e(n){return t.call(this,n)||this}return(0,C.ZT)(e,t),e.prototype.toString=function(){return"InjectionToken "+this._desc},e}(nr),pe=function(){function t(e,n,r){this.key=e,this.optional=n,this.visibility=r}return t.fromKey=function(e){return new t(e,!1,null)},t}(),or=[],de=function(){function t(e,n,r){this.key=e,this.resolvedFactories=n,this.multiProvider=r}return Object.defineProperty(t.prototype,"resolvedFactory",{get:function(){return this.resolvedFactories[0]},enumerable:!1,configurable:!0}),t}(),ir=function t(e,n){this.factory=e,this.dependencies=n};function sr(t){var e,n;if(t.useClass){var r=jt(t.useClass);e=le.factory(r),n=me(r)}else t.useExisting?(e=function(o){return o},n=[pe.fromKey(_.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=function fr(t,e){if(e){var n=e.map(function(r){return[r]});return e.map(function(r){return ye(t,r,n)})}return me(t)}(t.useFactory,t.deps)):(e=function(){return t.useValue},n=or);return new ir(e,n)}function ar(t){return new de(_.get(t.provide),[sr(t)],t.multi||!1)}function cr(t){var r=function ur(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=e.get(r.key.id);if(o){if(r.multiProvider!==o.multiProvider)throw Jn(o,r);if(r.multiProvider)for(var i=0;i<r.resolvedFactories.length;i++)o.resolvedFactories.push(r.resolvedFactories[i]);else e.set(r.key.id,r)}else{var s;s=r.multiProvider?new de(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,s)}}return e}(he(t,[]).map(ar),new Map);return Array.from(r.values())}function he(t,e){return t.forEach(function(n){if(n instanceof Tt)e.push({provide:n,useClass:n});else if(n&&"object"==typeof n&&void 0!==n.provide)e.push(n);else{if(!(n instanceof Array))throw function Wn(t){return Error("Invalid provider - only instances of Provider and Type are allowed, got: "+t)}(n);he(n,e)}}),e}function me(t){var e=le.parameters(t);if(!e)return[];if(e.some(function(n){return null==n}))throw ue(t,e);return e.map(function(n){return ye(t,n,e)})}function ye(t,e,n){var r=null,o=!1;if(!Array.isArray(e))return Dt(e instanceof ie?e.token:e,o,null);for(var i=null,s=0;s<e.length;++s){var a=e[s];a instanceof Tt?r=a:a instanceof ie?r=a.token:a instanceof Bn?o=!0:a instanceof se||a instanceof ae?i=a:a instanceof rr&&(r=a)}if(null!=(r=jt(r)))return Dt(r,o,i);throw ue(t,n)}function Dt(t,e,n){return new pe(_.get(t),e,n)}var H=new Object,ge=function(){function t(){}return t.resolve=function(e){return cr(e)},t.resolveAndCreate=function(e,n){var r=t.resolve(e);return t.fromResolvedProviders(r,n)},t.fromResolvedProviders=function(e,n){return new lr(e,n)},t}(),lr=function(){function t(e,n){this._constructionCounter=0,this._providers=e,this._parent=n||null;var r=e.length;this.keyIds=new Array(r),this.objs=new Array(r);for(var o=0;o<r;o++)this.keyIds[o]=e[o].key.id,this.objs[o]=H}return t.prototype.get=function(e,n){return void 0===n&&(n=Ot),this._getByKey(_.get(e),null,n)},Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),t.prototype.resolveAndCreateChild=function(e){var n=ge.resolve(e);return this.createChildFromResolved(n)},t.prototype.createChildFromResolved=function(e){var n=new t(e);return n._parent=this,n},t.prototype.resolveAndInstantiate=function(e){return this.instantiateResolved(ge.resolve([e])[0])},t.prototype.instantiateResolved=function(e){return this._instantiateProvider(e)},t.prototype.getProviderAtIndex=function(e){if(e<0||e>=this._providers.length)throw function Vn(t){return Error("Index "+t+" is out-of-bounds.")}(e);return this._providers[e]},t.prototype._new=function(e){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function Hn(t,e){return Et(t,e,function(){return"Cannot instantiate cyclic dependency!"+St(this.keys)})}(this,e.key);return this._instantiateProvider(e)},t.prototype._getMaxNumberOfObjects=function(){return this.objs.length},t.prototype._instantiateProvider=function(e){if(e.multiProvider){for(var n=new Array(e.resolvedFactories.length),r=0;r<e.resolvedFactories.length;++r)n[r]=this._instantiate(e,e.resolvedFactories[r]);return n}return this._instantiate(e,e.resolvedFactories[0])},t.prototype._instantiate=function(e,n){var i,s,r=this,o=n.factory;try{i=n.dependencies.map(function(a){return r._getByReflectiveDependency(a)})}catch(a){throw a.addKey&&a.addKey(this,e.key),a}try{s=o.apply(void 0,i)}catch(a){throw function zn(t,e,n,r){return Et(t,r,function(){var o=M(this.keys[0].token);return function Un(t){return t[Mt]}(this).message+": Error during instantiation of "+o+"!"+St(this.keys)+"."},e)}(this,a,0,e.key)}return s},t.prototype._getByReflectiveDependency=function(e){return this._getByKey(e.key,e.visibility,e.optional?null:Ot)},t.prototype._getByKey=function(e,n,r){return e===pr?this:n instanceof se?this._getByKeySelf(e,r):this._getByKeyDefault(e,r,n)},t.prototype._getObjByKeyId=function(e){for(var n=0;n<this.keyIds.length;n++)if(this.keyIds[n]===e)return this.objs[n]===H&&(this.objs[n]=this._new(this._providers[n])),this.objs[n];return H},t.prototype._throwOrNull=function(e,n){if(n!==Ot)return n;throw function Yn(t,e){return Et(t,e,function(){return"No provider for "+M(this.keys[0].token)+"!"+St(this.keys)})}(this,e)},t.prototype._getByKeySelf=function(e,n){var r=this._getObjByKeyId(e.id);return r!==H?r:this._throwOrNull(e,n)},t.prototype._getByKeyDefault=function(e,n,r){var o;for(o=r instanceof ae?this._parent:this;o instanceof t;){var i=o,s=i._getObjByKeyId(e.id);if(s!==H)return s;o=i._parent}return null!==o?o.get(e.token,n):this._throwOrNull(e,n)},Object.defineProperty(t.prototype,"displayName",{get:function(){var e=function dr(t,e){for(var n=new Array(t._providers.length),r=0;r<t._providers.length;++r)n[r]=e(t.getProviderAtIndex(r));return n}(this,function(n){return' "'+n.key.displayName+'" '}).join(", ");return"ReflectiveInjector(providers: ["+e+"])"},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this.displayName},t}(),pr=_.get(Fn);const ct=t=>e=>1-t(1-e),Ct=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ve=t=>e=>e*e*((t+1)*e-t),we=t=>t,Bt=(2,e=>Math.pow(e,2)),br=ct(Bt),ut=Ct(Bt),wr=ct(t=>1-Math.sin(Math.acos(t))),Re=(Ct(wr),ve(1.525)),It=(ct(Re),Ct(Re),ve(1.525),t=>{if(1===t||0===t)return t;const e=t*t;return t<.36363636363636365?7.5625*e:t<.7272727272727273?9.075*e-9.9*t+3.4:t<.9?12.066481994459833*e-19.63545706371191*t+8.898060941828255:10.8*t*t-20.52*t+10.72});ct(It);var xe=function(){},ft=function(){};const Ft=(t,e,n)=>Math.min(Math.max(n,t),e),Nt=.001,Or=.01,je=10,Mr=.05,Sr=1;const Tr=12;function Lt(t,e){return t*Math.sqrt(1-e*e)}const _r=["duration","bounce"],Ar=["stiffness","damping","mass"];function Oe(t,e){return e.some(n=>void 0!==t[n])}function kt(t){var{from:e=0,to:n=1,restSpeed:r=2,restDelta:o}=t,i=(0,C._T)(t,["from","to","restSpeed","restDelta"]);const s={done:!1,value:e};let{stiffness:a,damping:u,mass:c,velocity:f,duration:l,isResolvedFromDuration:p}=function Dr(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!Oe(t,Ar)&&Oe(t,_r)){const n=function Er({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let o,i;xe(t<=1e3*je,"Spring duration must be 10 seconds or less");let s=1-e;s=Ft(Mr,Sr,s),t=Ft(Or,je,t/1e3),s<1?(o=c=>{const f=c*s,l=f*t,p=f-n,m=Lt(c,s),x=Math.exp(-l);return Nt-p/m*x},i=c=>{const l=c*s*t,p=l*n+n,m=Math.pow(s,2)*Math.pow(c,2)*t,x=Math.exp(-l),j=Lt(Math.pow(c,2),s);return(-o(c)+Nt>0?-1:1)*((p-m)*x)/j}):(o=c=>Math.exp(-c*t)*((c-n)*t+1)-Nt,i=c=>Math.exp(-c*t)*(t*t*(n-c)));const u=function Pr(t,e,n){let r=n;for(let o=1;o<Tr;o++)r-=t(r)/e(r);return r}(o,i,5/t);if(t*=1e3,isNaN(u))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(u,2)*r;return{stiffness:c,damping:2*s*Math.sqrt(r*c),duration:t}}}(t);e=Object.assign(Object.assign(Object.assign({},e),n),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}(i),m=Me,x=Me;function j(){const g=f?-f/1e3:0,y=n-e,w=u/(2*Math.sqrt(a*c)),b=Math.sqrt(a/c)/1e3;if(void 0===o&&(o=Math.min(Math.abs(n-e)/100,.4)),w<1){const v=Lt(b,w);m=O=>{const S=Math.exp(-w*b*O);return n-S*((g+w*b*y)/v*Math.sin(v*O)+y*Math.cos(v*O))},x=O=>{const S=Math.exp(-w*b*O);return w*b*S*(Math.sin(v*O)*(g+w*b*y)/v+y*Math.cos(v*O))-S*(Math.cos(v*O)*(g+w*b*y)-v*y*Math.sin(v*O))}}else if(1===w)m=v=>n-Math.exp(-b*v)*(y+(g+b*y)*v);else{const v=b*Math.sqrt(w*w-1);m=O=>{const S=Math.exp(-w*b*O),$=Math.min(v*O,300);return n-S*((g+w*b*y)*Math.sinh($)+v*y*Math.cosh($))/v}}}return j(),{next:g=>{const y=m(g);if(p)s.done=g>=l;else{const w=1e3*x(g),b=Math.abs(w)<=r,v=Math.abs(n-y)<=o;s.done=b&&v}return s.value=s.done?n:y,s},flipTarget:()=>{f=-f,[e,n]=[n,e],j()}}}kt.needsInterpolation=(t,e)=>"string"==typeof t||"string"==typeof e;const Me=t=>0,Se=(t,e,n)=>{const r=e-t;return 0===r?1:(n-t)/r},E=(t,e,n)=>-n*t+n*e+t,Ee=(t,e)=>n=>Math.max(Math.min(n,e),t),z=t=>t%1?Number(t.toFixed(5)):t,lt=/(-)?([\d]*\.?[\d])+/g,Ut=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Cr=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function W(t){return"string"==typeof t}const pt={test:t=>"number"==typeof t,parse:parseFloat,transform:t=>t},Te=Object.assign(Object.assign({},pt),{transform:Ee(0,1)}),Zt=(Object.assign(Object.assign({},pt),{default:1}),(t,e)=>n=>Boolean(W(n)&&Cr.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e))),Pe=(t,e,n)=>r=>{if(!W(r))return r;const[o,i,s,a]=r.match(lt);return{[t]:parseFloat(o),[e]:parseFloat(i),[n]:parseFloat(s),alpha:void 0!==a?parseFloat(a):1}},Br=Ee(0,255),Kt=Object.assign(Object.assign({},pt),{transform:t=>Math.round(Br(t))}),A={test:Zt("rgb","red"),parse:Pe("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Kt.transform(t)+", "+Kt.transform(e)+", "+Kt.transform(n)+", "+z(Te.transform(r))+")"},Gt={test:Zt("#"),parse:function Ir(t){let e="",n="",r="",o="";return t.length>5?(e=t.substr(1,2),n=t.substr(3,2),r=t.substr(5,2),o=t.substr(7,2)):(e=t.substr(1,1),n=t.substr(2,1),r=t.substr(3,1),o=t.substr(4,1),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}},transform:A.transform},V=t=>({test:e=>W(e)&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>`${e}${t}`}),F=(V("deg"),V("%")),Fr=V("px"),I=(V("vh"),V("vw"),Object.assign(Object.assign({},F),{parse:t=>F.parse(t)/100,transform:t=>F.transform(100*t)}),{test:Zt("hsl","hue"),parse:Pe("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+F.transform(z(e))+", "+F.transform(z(n))+", "+z(Te.transform(r))+")"});function $t(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function _e({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,n/=100;let o=0,i=0,s=0;if(e/=100){const a=n<.5?n*(1+e):n+e-n*e,u=2*n-a;o=$t(u,a,t+1/3),i=$t(u,a,t),s=$t(u,a,t-1/3)}else o=i=s=n;return{red:Math.round(255*o),green:Math.round(255*i),blue:Math.round(255*s),alpha:r}}const Nr=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},Lr=[Gt,A,I],Ae=t=>Lr.find(e=>e.test(t)),De=t=>`'${t}' is not an animatable color. Use the equivalent color code instead.`,Ce=(t,e)=>{let n=Ae(t),r=Ae(e);ft(!!n,De(t)),ft(!!r,De(e));let o=n.parse(t),i=r.parse(e);n===I&&(o=_e(o),n=A),r===I&&(i=_e(i),r=A);const s=Object.assign({},o);return a=>{for(const u in s)"alpha"!==u&&(s[u]=Nr(o[u],i[u],a));return s.alpha=E(o.alpha,i.alpha,a),n.transform(s)}},dt={test:t=>A.test(t)||Gt.test(t)||I.test(t),parse:t=>A.test(t)?A.parse(t):I.test(t)?I.parse(t):Gt.parse(t),transform:t=>W(t)?t:t.hasOwnProperty("red")?A.transform(t):I.transform(t)},Be="${c}",Ie="${n}";function Fe(t){"number"==typeof t&&(t=`${t}`);const e=[];let n=0;const r=t.match(Ut);r&&(n=r.length,t=t.replace(Ut,Be),e.push(...r.map(dt.parse)));const o=t.match(lt);return o&&(t=t.replace(lt,Ie),e.push(...o.map(pt.parse))),{values:e,numColors:n,tokenised:t}}function Ne(t){return Fe(t).values}function Le(t){const{values:e,numColors:n,tokenised:r}=Fe(t),o=e.length;return i=>{let s=r;for(let a=0;a<o;a++)s=s.replace(a<n?Be:Ie,a<n?dt.transform(i[a]):z(i[a]));return s}}const Ur=t=>"number"==typeof t?0:t,ke={test:function kr(t){var e,n,r,o;return isNaN(t)&&W(t)&&(null!==(n=null===(e=t.match(lt))||void 0===e?void 0:e.length)&&void 0!==n?n:0)+(null!==(o=null===(r=t.match(Ut))||void 0===r?void 0:r.length)&&void 0!==o?o:0)>0},parse:Ne,createTransformer:Le,getAnimatableNone:function Zr(t){const e=Ne(t);return Le(t)(e.map(Ur))}},Kr=t=>"number"==typeof t,Gr=(t,e)=>n=>e(t(n)),Ue=(...t)=>t.reduce(Gr);function Ze(t,e){return Kr(t)?n=>E(t,e,n):dt.test(t)?Ce(t,e):$e(t,e)}const Ke=(t,e)=>{const n=[...t],r=n.length,o=t.map((i,s)=>Ze(i,e[s]));return i=>{for(let s=0;s<r;s++)n[s]=o[s](i);return n}},$r=(t,e)=>{const n=Object.assign(Object.assign({},t),e),r={};for(const o in n)void 0!==t[o]&&void 0!==e[o]&&(r[o]=Ze(t[o],e[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}};function Ge(t){const e=ke.parse(t),n=e.length;let r=0,o=0,i=0;for(let s=0;s<n;s++)r||"number"==typeof e[s]?r++:void 0!==e[s].hue?i++:o++;return{parsed:e,numNumbers:r,numRGB:o,numHSL:i}}const $e=(t,e)=>{const n=ke.createTransformer(e),r=Ge(t),o=Ge(e);return r.numHSL===o.numHSL&&r.numRGB===o.numRGB&&r.numNumbers>=o.numNumbers?Ue(Ke(r.parsed,o.parsed),n):(xe(!0,`Complex values '${t}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),s=>`${s>0?e:t}`)},Yr=(t,e)=>n=>E(t,e,n);function Ye(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const i=t.length;ft(i===e.length,"Both input and output ranges must be the same length"),ft(!r||!Array.isArray(r)||r.length===i-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),t[0]>t[i-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const s=function zr(t,e,n){const r=[],o=n||function Hr(t){return"number"==typeof t?Yr:"string"==typeof t?dt.test(t)?Ce:$e:Array.isArray(t)?Ke:"object"==typeof t?$r:void 0}(t[0]),i=t.length-1;for(let s=0;s<i;s++){let a=o(t[s],t[s+1]);if(e){const u=Array.isArray(e)?e[s]:e;a=Ue(u,a)}r.push(a)}return r}(e,r,o),a=2===i?function Wr([t,e],[n]){return r=>n(Se(t,e,r))}(t,s):function Vr(t,e){const n=t.length,r=n-1;return o=>{let i=0,s=!1;if(o<=t[0]?s=!0:o>=t[r]&&(i=r-1,s=!0),!s){let u=1;for(;u<n&&!(t[u]>o||u===r);u++);i=u-1}const a=Se(t[i],t[i+1],o);return e[i](a)}}(t,s);return n?u=>a(Ft(t[0],t[i-1],u)):a}function Jr(t,e){return t.map(()=>e||ut).splice(0,t.length-1)}function ht({from:t=0,to:e=1,ease:n,offset:r,duration:o=300}){const i={done:!1,value:t},s=Array.isArray(e)?e:[t,e],a=function qr(t,e){return t.map(n=>n*e)}(r&&r.length===s.length?r:function Qr(t){const e=t.length;return t.map((n,r)=>0!==r?r/(e-1):0)}(s),o);function u(){return Ye(a,s,{ease:Array.isArray(n)?n:Jr(s,n)})}let c=u();return{next:f=>(i.value=c(f),i.done=f>=o,i),flipTarget:()=>{s.reverse(),c=u()}}}const He={keyframes:ht,spring:kt,decay:function Xr({velocity:t=0,from:e=0,power:n=.8,timeConstant:r=350,restDelta:o=.5,modifyTarget:i}){const s={done:!1,value:e};let a=n*t;const u=e+a,c=void 0===i?u:i(u);return c!==u&&(a=c-e),{next:f=>{const l=-a*Math.exp(-f/r);return s.done=!(l>o||l<-o),s.value=s.done?c:c+l,s},flipTarget:()=>{}}}},ze=1/60*1e3,eo=typeof performance<"u"?()=>performance.now():()=>Date.now(),We=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(eo()),ze);let Yt=!0,J=!1,Ht=!1;const N={delta:0,timestamp:0},Q=["read","update","preRender","render","postRender"],mt=Q.reduce((t,e)=>(t[e]=function no(t){let e=[],n=[],r=0,o=!1,i=!1;const s=new WeakSet,a={schedule:(u,c=!1,f=!1)=>{const l=f&&o,p=l?e:n;return c&&s.add(u),-1===p.indexOf(u)&&(p.push(u),l&&o&&(r=e.length)),u},cancel:u=>{const c=n.indexOf(u);-1!==c&&n.splice(c,1),s.delete(u)},process:u=>{if(o)i=!0;else{if(o=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let c=0;c<r;c++){const f=e[c];f(u),s.has(f)&&(a.schedule(f),t())}o=!1,i&&(i=!1,a.process(u))}}};return a}(()=>J=!0),t),{}),oo=Q.reduce((t,e)=>{const n=mt[e];return t[e]=(r,o=!1,i=!1)=>(J||ao(),n.schedule(r,o,i)),t},{}),io=Q.reduce((t,e)=>(t[e]=mt[e].cancel,t),{}),so=(Q.reduce((t,e)=>(t[e]=()=>mt[e].process(N),t),{}),t=>mt[t].process(N)),Ve=t=>{J=!1,N.delta=Yt?ze:Math.max(Math.min(t-N.timestamp,40),1),N.timestamp=t,Ht=!0,Q.forEach(so),Ht=!1,J&&(Yt=!1,We(Ve))},ao=()=>{J=!0,Yt=!0,Ht||We(Ve)},co=oo;function Je(t,e,n=0){return t-e-n}const lo=t=>{const e=({delta:n})=>t(n);return{start:()=>co.update(e,!0),stop:()=>io.update(e)}};function po(t){var e,n,{from:r,autoplay:o=!0,driver:i=lo,elapsed:s=0,repeat:a=0,repeatType:u="loop",repeatDelay:c=0,onPlay:f,onStop:l,onComplete:p,onRepeat:m,onUpdate:x}=t,j=(0,C._T)(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let y,v,$,{to:g}=j,w=0,b=j.duration,O=!1,S=!0;const mn=function to(t){if(Array.isArray(t.to))return ht;if(He[t.type])return He[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?ht:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?kt:ht}(j);null!==(n=(e=mn).needsInterpolation)&&void 0!==n&&n.call(e,r,g)&&($=Ye([0,100],[r,g],{clamp:!1}),r=0,g=100);const yn=mn(Object.assign(Object.assign({},j),{from:r,to:g}));function $o(Jt){if(S||(Jt=-Jt),s+=Jt,!O){const gn=yn.next(Math.max(0,s));v=gn.value,$&&(v=$(v)),O=S?gn.done:s<=0}x?.(v),O&&(0===w&&(b??(b=s)),w<a?function fo(t,e,n,r){return r?t>=e+n:t<=-n}(s,b,c,S)&&function Ko(){w++,"reverse"===u?(S=w%2==0,s=function uo(t,e,n=0,r=!0){return r?Je(e+-t,e,n):e-(t-e)+n}(s,b,c,S)):(s=Je(s,b,c),"mirror"===u&&yn.flipTarget()),O=!1,m&&m()}():function Go(){y.stop(),p&&p()}())}return o&&function Yo(){f?.(),y=i($o),y.start()}(),{stop:()=>{l?.(),y.stop()}}}class yt{constructor(e){(0,h.Z)(this,"top",void 0),(0,h.Z)(this,"left",void 0),(0,h.Z)(this,"right",void 0),(0,h.Z)(this,"bottom",void 0),this.top=e.top,this.left=e.left,this.right=e.right,this.bottom=e.bottom}width(){return this.right-this.left}height(){return this.bottom-this.top}midpoint(){return{x:E(this.left,this.right,.5),y:E(this.top,this.bottom,.5)}}}class Qe{constructor(e){(0,h.Z)(this,"origin",void 0),(0,h.Z)(this,"scale",void 0),(0,h.Z)(this,"translate",void 0),this.origin=e.origin,this.scale=e.scale,this.translate=e.translate}apply(e){return this.origin+(e-this.origin)*this.scale+this.translate}}let L=class{constructor(){(0,h.Z)(this,"records",new WeakMap)}animate(e,n){let r;this.records.get(e)?.stop();const o=new Promise(s=>{const{duration:a,easing:u,route:c}=n,f=l=>this.animateFrame(e,c,l);f(0),r=po({from:0,to:1,duration:a,ease:u,onUpdate:f,onComplete:()=>s(),onStop:s}).stop}),i=new mo(e,o,()=>r());return this.records.set(e,i),i}animateFrame(e,n,r){const o=this.calculateBoundingBox(n,r),i=this.calculateBorderRadiuses(n,r);e.borderRadiuses=i,e.project(o)}calculateBoundingBox(e,n){const r=e.boundingBoxFrom,o=e.boundingBoxTo;return new yt({top:E(r.top,o.top,n),left:E(r.left,o.left,n),right:E(r.right,o.right,n),bottom:E(r.bottom,o.bottom,n)})}calculateBorderRadiuses(e,n){const r=e.borderRadiusesFrom,o=e.borderRadiusesTo,i=(s,a,u)=>({x:E(s.x,a.x,u),y:E(s.y,a.y,u)});return{topLeft:i(r.topLeft,o.topLeft,n),topRight:i(r.topRight,o.topRight,n),bottomLeft:i(r.bottomLeft,o.bottomLeft,n),bottomRight:i(r.bottomRight,o.bottomRight,n)}}};L=D([B()],L);let k=class{constructor(e){(0,h.Z)(this,"engine",void 0),(0,h.Z)(this,"records",new WeakMap),this.engine=e}animate(e,n){this.records.get(e)?.stop();const{duration:r,easing:o,routes:i}=n,s=[];e.traverse(u=>{const c=i.get(u.id);if(!c)throw new Error("Unknown node");const l=this.engine.animate(u,{duration:r,easing:o,route:c});s.push(l)},{includeSelf:!0});const a=new yo(e,s);return this.records.set(e,a),a}};k=D([B(),ot("design:paramtypes",[L])],k);class ho extends Map{}class zt{constructor(e,n){(0,h.Z)(this,"promise",void 0),(0,h.Z)(this,"stopper",void 0),this.promise=e,this.stopper=n}then(e,n){return this.promise.then(e,n)}stop(){this.stopper()}}class mo extends zt{constructor(e,n,r){super(n,r),(0,h.Z)(this,"node",void 0),this.node=e}}class yo extends zt{constructor(e,n){super(Promise.all(n),()=>n.forEach(r=>r.stop())),(0,h.Z)(this,"root",void 0),this.root=e}}const qe=(t,e)=>1-3*e+3*t,Xe=(t,e)=>3*e-6*t,tn=t=>3*t,gt=(t,e,n)=>((qe(e,n)*t+Xe(e,n))*t+tn(e))*t,en=(t,e,n)=>3*qe(e,n)*t*t+2*Xe(e,n)*t+tn(e),go=1e-7,vo=10,wo=8,Ro=.001,vt=11,bt=1/(vt-1);function jo(t,e,n,r){if(t===e&&n===r)return we;const o=new Float32Array(vt);for(let s=0;s<vt;++s)o[s]=gt(s*bt,t,n);return s=>0===s||1===s?s:gt(function i(s){let a=0,u=1;const c=vt-1;for(;u!==c&&o[u]<=s;++u)a+=bt;--u;const l=a+(s-o[u])/(o[u+1]-o[u])*bt,p=en(l,t,n);return p>=Ro?function xo(t,e,n,r){for(let o=0;o<wo;++o){const i=en(e,n,r);if(0===i)return e;e-=(gt(e,n,r)-t)/i}return e}(s,l,t,n):0===p?l:function bo(t,e,n,r,o){let i,s,a=0;do{s=e+(n-e)/2,i=gt(s,r,o)-t,i>0?n=s:e=s}while(Math.abs(i)>go&&++a<vo);return s}(s,a,a+bt,t,n)}(s),e,r)}let U=class{parse(e,n,r){if(e.match(/\d.*?px \d.*?px/u)){const[o,i]=e.split(" ").map(s=>parseFloat(s));return{x:o,y:i}}if(F.test(e)){const o=parseFloat(e)/100;return{x:o*n,y:o*r}}if(Fr.test(e)){const o=parseFloat(e);return{x:o,y:o}}throw new Error(`Unsupported radius: ${e}`)}};U=D([B()],U);let Z=class{parse(e){if("linear"===e)return we;if("ease"===e)return ut;if("ease-in"===e)return Bt;if("ease-out"===e)return br;if("ease-in-out"===e)return ut;if(e.startsWith("cubic-bezier")){const[n,r,o,i]=e.replace("cubic-bezier(","").replace(")","").split(",").map(s=>parseFloat(s));return jo(n,r,o,i)}throw new Error(`Unsupported easing string: ${e}`)}};Z=D([B()],Z);let P=class{constructor(e){(0,h.Z)(this,"borderRadiusParser",void 0),this.borderRadiusParser=e}measureBoundingBox(e){return new yt(e.getBoundingClientRect())}measureBorderRadiuses(e,n=this.measureBoundingBox(e)){const r=getComputedStyle(e),o=i=>this.borderRadiusParser.parse(i,n.width(),n.height());return{topLeft:o(r.borderTopLeftRadius),topRight:o(r.borderTopRightRadius),bottomLeft:o(r.borderBottomLeftRadius),bottomRight:o(r.borderBottomRightRadius)}}};P=D([B(),ot("design:paramtypes",[U])],P);let q=class{constructor(e,n,r){(0,h.Z)(this,"engine",void 0),(0,h.Z)(this,"measurer",void 0),(0,h.Z)(this,"easingParser",void 0),this.engine=e,this.measurer=n,this.easingParser=r}animate(e){const{root:n,from:r,estimation:o=!1}=e;"string"==typeof e.easing&&(e.easing=this.easingParser.parse(e.easing));const{duration:i=225,easing:s=ut}=e;this.initialize(n);const a=this.getAnimationRouteMap(n,r,o),u=this.engine.animate(n,{duration:i,easing:s,routes:a});return u.then(()=>{n.traverse(c=>c.reset(),{includeSelf:!0})}),u}initialize(e){e.traverse(n=>n.reset(),{includeSelf:!0}),e.traverse(n=>n.measure(),{includeSelf:!0})}getAnimationRouteMap(e,n,r){const o=new ho;return e.traverse(i=>{if(!i.measured())throw new Error("Unknown node");const s=n.get(i.id);if(o.has(i.id)&&i.element===s?.element)return;const a=s?.boundingBox||r&&this.estimateStartingBoundingBox(e,i,n)||i.boundingBox;o.set(i.id,{boundingBoxFrom:a,boundingBoxTo:i.boundingBox,borderRadiusesFrom:s?.borderRadiuses??i.borderRadiuses,borderRadiusesTo:i.borderRadiuses})},{includeSelf:!0}),o}estimateStartingBoundingBox(e,n,r){if(!n.measured())throw new Error("Unknown node");let i,o=n;for(;void 0===(i=r.get(o.id));){if(o===e||!o.parent)return;o=o.parent}if(!o.measured())throw new Error("Unknown ancestor");const a=o.calculateTransform(i.boundingBox).x.scale;return new yt({top:i.boundingBox.top-(o.boundingBox.top-n.boundingBox.top)*a,left:i.boundingBox.left-(o.boundingBox.left-n.boundingBox.left)*a,right:i.boundingBox.right-(o.boundingBox.right-n.boundingBox.right)*a,bottom:i.boundingBox.top-(o.boundingBox.top-n.boundingBox.bottom)*a})}};q=D([B(),ot("design:paramtypes",[k,P,Z])],q);let K=(()=>{class t{constructor(n,r){(0,h.Z)(this,"element",void 0),(0,h.Z)(this,"measurer",void 0),(0,h.Z)(this,"id","anonymous-"+t.idNext++),(0,h.Z)(this,"activated",!0),(0,h.Z)(this,"parent",void 0),(0,h.Z)(this,"children",new Set),(0,h.Z)(this,"boundingBox",void 0),(0,h.Z)(this,"borderRadiuses",void 0),(0,h.Z)(this,"transform",void 0),this.element=n,this.measurer=r}identifyAs(n){this.id=n}activate(){this.activated=!0}deactivate(){this.activated=!1}attach(n){this.parent=n,n.children.add(this)}detach(){if(!this.parent)throw new Error("Missing parent");this.parent.children.delete(this),this.parent=void 0}traverse(n,r={}){r.includeSelf??=!1,r.includeDeactivated??=!1,r.includeSelf&&n(this),this.children.forEach(o=>{!r.includeDeactivated&&!o.activated||o.traverse(n,{...r,includeSelf:!0})})}track(){const n=[];let r=this.parent;for(;r;)n.unshift(r),r=r.parent;return n}reset(){this.transform=void 0,this.element.style.transform="",this.element.style.borderRadius=""}measure(){this.boundingBox=this.measurer.measureBoundingBox(this.element),this.borderRadiuses=this.measurer.measureBorderRadiuses(this.element,this.boundingBox)}measured(){return!!this.boundingBox&&!!this.borderRadiuses}project(n){if(!this.measured())throw new Error("Node not measured");this.transform=this.calculateTransform(n);const r={x:1,y:1},o=this.track();for(const p of o)p.transform&&(r.x*=p.transform.x.scale,r.y*=p.transform.y.scale);const i=this.element.style,s=this.transform;i.transform=[`translate3d(${s.x.translate/r.x}px, ${s.y.translate/r.y}px, 0)`,`scale(${s.x.scale}, ${s.y.scale})`].join(" ");const c_x=r.x*this.transform.x.scale,c_y=r.y*this.transform.y.scale,f=this.borderRadiuses,l=p=>`${p.x/c_x}px ${p.y/c_y}px`;i.borderTopLeftRadius=l(f.topLeft),i.borderTopRightRadius=l(f.topRight),i.borderBottomLeftRadius=l(f.bottomLeft),i.borderBottomRightRadius=l(f.bottomRight)}calculateTransform(n){const r=this.calculateTransformedBoundingBox(),o=r.midpoint(),i=n.midpoint(),s={x:new Qe({origin:o.x,scale:n.width()/r.width(),translate:i.x-o.x}),y:new Qe({origin:o.y,scale:n.height()/r.height(),translate:i.y-o.y})};return isNaN(s.x.scale)&&(s.x.scale=1),isNaN(s.y.scale)&&(s.y.scale=1),s}calculateTransformedBoundingBox(){if(!this.measured())throw new Error("Node not measured");let n=this.boundingBox;for(const r of this.track()){if(!r.boundingBox||!r.transform)continue;const o=r.transform;n=new yt({top:o.y.apply(n.top),left:o.x.apply(n.left),right:o.x.apply(n.right),bottom:o.y.apply(n.bottom)})}return n}}return(0,h.Z)(t,"idNext",1),t})(),X=class{constructor(e){(0,h.Z)(this,"measurer",void 0),this.measurer=e}snapshot(e){const n=this.measurer.measureBoundingBox(e.element),r=this.measurer.measureBorderRadiuses(e.element,n);return{element:e.element,boundingBox:n,borderRadiuses:r}}snapshotTree(e,n){const r=new G,o=new Set;return e.traverse(i=>{if(!n||n(i)){if(o.has(i.id))throw new Error(`Node ID conflict: "${i.id}"`);o.add(i.id),r.set(i.id,this.snapshot(i))}},{includeSelf:!0}),r}};X=D([B(),ot("design:paramtypes",[P])],X);class G extends Map{merge(e){for(const[n,r]of e)this.set(n,r)}}var nn=R(4885),Oo=R(8105),rn=R(7612),Mo=R(3970),So=R(2170),on=R(2077),sn=R(3205),Eo=R(9930),an=R(1368);function cn(t,e){return e?n=>n.pipe(cn((r,o)=>(0,sn.Xf)(t(r,o)).pipe((0,on.U)((i,s)=>e(r,i,o,s))))):(0,Eo.e)((n,r)=>{let o=0,i=null,s=!1;n.subscribe((0,an.x)(r,a=>{i||(i=(0,an.x)(r,void 0,()=>{i=null,s&&r.complete()}),(0,sn.Xf)(t(a,o++)).subscribe(i))},()=>{s=!0,!i&&r.complete()}))})}var To=R(3273);function Po(){return cn(To.y)}var _o=R(7114),Wt=R(4291),Ao=R(6469);const un={now:()=>(un.delegate||performance).now(),delegate:void 0};var fn=R(555);function ln(t){return new nn.y(e=>{const n=t||un,r=n.now();let o=0;const i=()=>{e.closed||(o=fn.l.requestAnimationFrame(s=>{o=0;const a=n.now();e.next({timestamp:t?a:s,elapsed:a-r}),i()}))};return i(),()=>{o&&fn.l.cancelAnimationFrame(o)}})}const Co=ln();var Bo=R(2314);class Io{constructor(e,n){this.map=e,this.secondsBeforeDeletion=n,this.timeouts=new Map}stale(e){const n=setTimeout(()=>this.performDeletion(e),1e3*this.secondsBeforeDeletion);this.timeouts.set(e,n)}refresh(e){const n=this.timeouts.get(e);clearTimeout(n),this.timeouts.delete(e)}performDeletion(e){this.map.delete(e),this.timeouts.delete(e)}}class tt extends Set{}class et extends Set{}let pn=(()=>{class t{constructor(n,r,o){this.nodeRegistry=n,this.entryRegistry=r,this.snapshots=o}}return t.\u0275fac=function(n){return new(n||t)(d.LFG(tt),d.LFG(et),d.LFG(G))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac}),t})(),dn=(()=>{class t extends Io{constructor(n){super(n,10)}}return t.\u0275fac=function(n){return new(n||t)(d.LFG(G))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac}),t})(),Vt=(()=>{class t{set lpjAnimation(n){"string"!=typeof n&&(this.config=n)}constructor(n,r,o,i,s){this.node=n,this.animator=r,this.snapper=o,this.snapshots=i,this.nodeRegistry=s,this.config={}}snapshot(){const n=this.nodeRegistry?.has.bind(this.nodeRegistry),r=this.snapper.snapshotTree(this.node,n);this.snapshots.merge(r)}animate(){if(!this.snapshots)throw new Error("Missing snapshots");return this.animator.animate({root:this.node,from:this.snapshots,...this.config})}}return t.\u0275fac=function(n){return new(n||t)(d.Y36(K,2),d.Y36(q),d.Y36(X),d.Y36(G),d.Y36(tt,8))},t.\u0275dir=d.lG2({type:t,selectors:[["","lpjNode","","lpjAnimation",""]],inputs:{lpjAnimation:"lpjAnimation"},exportAs:["lpjAnimation"]}),t})(),Fo=(()=>{class t{set lpjAnimationScope(n){""!==n&&(this.source=n)}constructor(n,r){this.templateRef=n,this.viewContainer=r}ngOnInit(){const n=this.createInjector(),r=n.get(pn);this.viewContainer.createEmbeddedView(this.templateRef,{$implicit:r},{injector:n})}createInjector(){const{nodeRegistry:n=new tt,entryRegistry:r=new et,snapshots:o=new G}=this.source??{};return d.zs3.create({providers:[{provide:pn},{provide:tt,useValue:n},{provide:et,useValue:r},{provide:G,useValue:o},{provide:dn}]})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(d.Y36(d.Rgc),d.Y36(d.s_b))},t.\u0275dir=d.lG2({type:t,selectors:[["","lpjAnimationScope",""]],inputs:{lpjAnimationScope:"lpjAnimationScope"}}),t})(),No=(()=>{class t{constructor(n,r,o){this.node=n,this.registry=r,this.snapshots=o}ngOnInit(){this.registry?.add(this.node),this.snapshots?.refresh(this.node.id)}ngOnDestroy(){this.registry?.delete(this.node),this.snapshots?.stale(this.node.id)}}return t.\u0275fac=function(n){return new(n||t)(d.Y36(K,2),d.Y36(tt,8),d.Y36(dn,8))},t.\u0275dir=d.lG2({type:t,selectors:[["","lpjNode",""]]}),t})(),Lo=(()=>{class t{constructor(n,r){this.entry=n,this.registry=r}ngOnInit(){this.registry?.add(this.entry)}ngOnDestroy(){this.registry?.delete(this.entry)}}return t.\u0275fac=function(n){return new(n||t)(d.Y36(Vt,2),d.Y36(et,8))},t.\u0275dir=d.lG2({type:t,selectors:[["","lpjAnimation",""]]}),t})(),hn=(()=>{class t{set lpjAnimationTrigger(n){const r=n instanceof nn.y?n.pipe((0,Oo.O)((0,rn.of)(n))):(0,rn.of)(n);this.trigger$.next(r)}set lpjAnimationTriggerFor(n){const r=o=>o instanceof K?o.id:o;this.targetIds=n instanceof Array?n.map(r):[r(n)]}constructor(n){this.entryRegistry=n,this.trigger$=new Mo.X(So.E),this.targetIds=[],this.animationTrigger=new d.vpe,this.animationSettle=new d.vpe}ngOnInit(){this.trigger$.pipe(Po(),(0,_o.T)(1),(0,Wt.b)(()=>this.animationTrigger.emit()),(0,Wt.b)(()=>this.snapshot()),(0,Ao.w)(()=>function Do(t){return t?ln(t):Co}().pipe((0,Bo.P)())),(0,on.U)(()=>this.animate()),(0,Wt.b)(n=>n.then(()=>this.animationSettle.emit()))).subscribe()}snapshot(){this.findTargets().forEach(n=>n.snapshot())}animate(){const n=this.findTargets().map(r=>r.animate());return new zt(Promise.all(n),()=>n.forEach(r=>r.stop()))}findTargets(){const n=Array.from(this.entryRegistry).filter(r=>this.targetIds.includes(r.node.id));if(!n.length)throw new Error("Failed to find any target entry");return n}}return t.\u0275fac=function(n){return new(n||t)(d.Y36(et))},t.\u0275dir=d.lG2({type:t,selectors:[["","lpjAnimationTrigger",""]],inputs:{lpjAnimationTrigger:"lpjAnimationTrigger",lpjAnimationTriggerFor:"lpjAnimationTriggerFor"},outputs:{animationTrigger:"animationTrigger",animationSettle:"animationSettle"}}),t})(),ko=(()=>{class t{constructor(n,r){r.lpjAnimationTriggerFor=n.node}}return t.\u0275fac=function(n){return new(n||t)(d.Y36(Vt,2),d.Y36(hn,2))},t.\u0275dir=d.lG2({type:t,selectors:[["","lpjAnimation","","lpjAnimationTrigger",""]]}),t})(),Uo=(()=>{class t extends K{set lpjNode(n){"string"==typeof n?(n&&this.identifyAs(n),this.activate()):this.deactivate()}constructor(n,r,o){super(n.nativeElement,r),o&&this.attach(o)}ngOnDestroy(){this.parent&&this.detach()}}return t.\u0275fac=function(n){return new(n||t)(d.Y36(d.SBq),d.Y36(P),d.Y36(K,12))},t.\u0275dir=d.lG2({type:t,selectors:[["","lpjNode",""]],inputs:{lpjNode:"lpjNode"},exportAs:["lpjNode"],features:[d._Bn([{provide:K,useExisting:t}]),d.qOj]}),t})(),Zo=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({providers:[{provide:q,useFactory:()=>new q((0,d.f3M)(k),(0,d.f3M)(P),(0,d.f3M)(Z))},{provide:L,useFactory:()=>new L},{provide:k,useFactory:()=>new k((0,d.f3M)(L))},{provide:P,useFactory:()=>new P((0,d.f3M)(U))},{provide:X,useFactory:()=>new X((0,d.f3M)(P))},{provide:U,useFactory:()=>new U},{provide:Z,useFactory:()=>new Z}]}),t})()}}]);