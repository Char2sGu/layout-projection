"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[762],{6762:(rr,we,b)=>{b.d(we,{CP:()=>Mt,rG:()=>Wn,kf:()=>Jn,y3:()=>Kn,DT:()=>Qn,ng:()=>ve,rE:()=>qn,BM:()=>Xn});var u=b(5857),p=b(5339);const k=t=>e=>1-t(1-e),tt=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,wt=t=>e=>e*e*((t+1)*e-t),Tt=t=>t,et=(2,e=>Math.pow(e,2)),je=k(et),z=tt(et),Ee=k(t=>1-Math.sin(Math.acos(t))),Dt=(tt(Ee),wt(1.525)),nt=(k(Dt),tt(Dt),wt(1.525),t=>{if(1===t||0===t)return t;const e=t*t;return t<.36363636363636365?7.5625*e:t<.7272727272727273?9.075*e-9.9*t+3.4:t<.9?12.066481994459833*e-19.63545706371191*t+8.898060941828255:10.8*t*t-20.52*t+10.72});k(nt);var Ft=b(5163),Bt=function(){},V=function(){};const rt=(t,e,n)=>Math.min(Math.max(n,t),e),st=.001,Ie=.01,jt=10,Pe=.05,Ce=1;const $e=12;function ot(t,e){return t*Math.sqrt(1-e*e)}const Ye=["duration","bounce"],ke=["stiffness","damping","mass"];function Et(t,e){return e.some(n=>void 0!==t[n])}function it(t){var{from:e=0,to:n=1,restSpeed:r=2,restDelta:s}=t,i=(0,Ft._T)(t,["from","to","restSpeed","restDelta"]);const o={done:!1,value:e};let{stiffness:a,damping:c,mass:l,velocity:d,duration:f,isResolvedFromDuration:g}=function ze(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!Et(t,ke)&&Et(t,Ye)){const n=function Ze({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i;Bt(t<=1e3*jt,"Spring duration must be 10 seconds or less");let o=1-e;o=rt(Pe,Ce,o),t=rt(Ie,jt,t/1e3),o<1?(s=l=>{const d=l*o,f=d*t,g=d-n,w=ot(l,o),A=Math.exp(-f);return st-g/w*A},i=l=>{const f=l*o*t,g=f*n+n,w=Math.pow(o,2)*Math.pow(l,2)*t,A=Math.exp(-f),T=ot(Math.pow(l,2),o);return(-s(l)+st>0?-1:1)*((g-w)*A)/T}):(s=l=>Math.exp(-l*t)*((l-n)*t+1)-st,i=l=>Math.exp(-l*t)*(t*t*(n-l)));const c=function Ue(t,e,n){let r=n;for(let s=1;s<$e;s++)r-=t(r)/e(r);return r}(s,i,5/t);if(t*=1e3,isNaN(c))return{stiffness:100,damping:10,duration:t};{const l=Math.pow(c,2)*r;return{stiffness:l,damping:2*o*Math.sqrt(r*l),duration:t}}}(t);e=Object.assign(Object.assign(Object.assign({},e),n),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}(i),w=Ot,A=Ot;function T(){const R=d?-d/1e3:0,x=n-e,y=c/(2*Math.sqrt(a*l)),m=Math.sqrt(a/l)/1e3;if(void 0===s&&(s=Math.min(Math.abs(n-e)/100,.4)),y<1){const h=ot(m,y);w=v=>{const M=Math.exp(-y*m*v);return n-M*((R+y*m*x)/h*Math.sin(h*v)+x*Math.cos(h*v))},A=v=>{const M=Math.exp(-y*m*v);return y*m*M*(Math.sin(h*v)*(R+y*m*x)/h+x*Math.cos(h*v))-M*(Math.cos(h*v)*(R+y*m*x)-h*x*Math.sin(h*v))}}else if(1===y)w=h=>n-Math.exp(-m*h)*(x+(R+m*x)*h);else{const h=m*Math.sqrt(y*y-1);w=v=>{const M=Math.exp(-y*m*v),O=Math.min(h*v,300);return n-M*((R+y*m*x)*Math.sinh(O)+h*x*Math.cosh(O))/h}}}return T(),{next:R=>{const x=w(R);if(g)o.done=R>=f;else{const y=1e3*A(R),m=Math.abs(y)<=r,h=Math.abs(n-x)<=s;o.done=m&&h}return o.value=o.done?n:x,o},flipTarget:()=>{d=-d,[e,n]=[n,e],T()}}}it.needsInterpolation=(t,e)=>"string"==typeof t||"string"==typeof e;const Ot=t=>0,Lt=(t,e,n)=>{const r=e-t;return 0===r?1:(n-t)/r},S=(t,e,n)=>-n*t+n*e+t,Nt=(t,e)=>n=>Math.max(Math.min(n,e),t),L=t=>t%1?Number(t.toFixed(5)):t,G=/(-)?([\d]*\.?[\d])+/g,at=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Ve=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function N(t){return"string"==typeof t}const H={test:t=>"number"==typeof t,parse:parseFloat,transform:t=>t},It=Object.assign(Object.assign({},H),{transform:Nt(0,1)}),ct=(Object.assign(Object.assign({},H),{default:1}),(t,e)=>n=>Boolean(N(n)&&Ve.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e))),Pt=(t,e,n)=>r=>{if(!N(r))return r;const[s,i,o,a]=r.match(G);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},Ge=Nt(0,255),lt=Object.assign(Object.assign({},H),{transform:t=>Math.round(Ge(t))}),D={test:ct("rgb","red"),parse:Pt("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+lt.transform(t)+", "+lt.transform(e)+", "+lt.transform(n)+", "+L(It.transform(r))+")"},ut={test:ct("#"),parse:function He(t){let e="",n="",r="",s="";return t.length>5?(e=t.substr(1,2),n=t.substr(3,2),r=t.substr(5,2),s=t.substr(7,2)):(e=t.substr(1,1),n=t.substr(2,1),r=t.substr(3,1),s=t.substr(4,1),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}},transform:D.transform},I=t=>({test:e=>N(e)&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>`${e}${t}`}),B=(I("deg"),I("%")),We=I("px"),F=(I("vh"),I("vw"),Object.assign(Object.assign({},B),{parse:t=>B.parse(t)/100,transform:t=>B.transform(100*t)}),{test:ct("hsl","hue"),parse:Pt("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+B.transform(L(e))+", "+B.transform(L(n))+", "+L(It.transform(r))+")"});function dt(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Ct({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,n/=100;let s=0,i=0,o=0;if(e/=100){const a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;s=dt(c,a,t+1/3),i=dt(c,a,t),o=dt(c,a,t-1/3)}else s=i=o=n;return{red:Math.round(255*s),green:Math.round(255*i),blue:Math.round(255*o),alpha:r}}const Ke=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},Je=[ut,D,F],Zt=t=>Je.find(e=>e.test(t)),$t=t=>`'${t}' is not an animatable color. Use the equivalent color code instead.`,Ut=(t,e)=>{let n=Zt(t),r=Zt(e);V(!!n,$t(t)),V(!!r,$t(e));let s=n.parse(t),i=r.parse(e);n===F&&(s=Ct(s),n=D),r===F&&(i=Ct(i),r=D);const o=Object.assign({},s);return a=>{for(const c in o)"alpha"!==c&&(o[c]=Ke(s[c],i[c],a));return o.alpha=S(s.alpha,i.alpha,a),n.transform(o)}},W={test:t=>D.test(t)||ut.test(t)||F.test(t),parse:t=>D.test(t)?D.parse(t):F.test(t)?F.parse(t):ut.parse(t),transform:t=>N(t)?t:t.hasOwnProperty("red")?D.transform(t):F.transform(t)},Yt="${c}",kt="${n}";function zt(t){"number"==typeof t&&(t=`${t}`);const e=[];let n=0;const r=t.match(at);r&&(n=r.length,t=t.replace(at,Yt),e.push(...r.map(W.parse)));const s=t.match(G);return s&&(t=t.replace(G,kt),e.push(...s.map(H.parse))),{values:e,numColors:n,tokenised:t}}function Vt(t){return zt(t).values}function Gt(t){const{values:e,numColors:n,tokenised:r}=zt(t),s=e.length;return i=>{let o=r;for(let a=0;a<s;a++)o=o.replace(a<n?Yt:kt,a<n?W.transform(i[a]):L(i[a]));return o}}const Xe=t=>"number"==typeof t?0:t,Ht={test:function Qe(t){var e,n,r,s;return isNaN(t)&&N(t)&&(null!==(n=null===(e=t.match(G))||void 0===e?void 0:e.length)&&void 0!==n?n:0)+(null!==(s=null===(r=t.match(at))||void 0===r?void 0:r.length)&&void 0!==s?s:0)>0},parse:Vt,createTransformer:Gt,getAnimatableNone:function qe(t){const e=Vt(t);return Gt(t)(e.map(Xe))}},_e=t=>"number"==typeof t,tn=(t,e)=>n=>e(t(n)),Wt=(...t)=>t.reduce(tn);function Kt(t,e){return _e(t)?n=>S(t,e,n):W.test(t)?Ut(t,e):Xt(t,e)}const Jt=(t,e)=>{const n=[...t],r=n.length,s=t.map((i,o)=>Kt(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},en=(t,e)=>{const n=Object.assign(Object.assign({},t),e),r={};for(const s in n)void 0!==t[s]&&void 0!==e[s]&&(r[s]=Kt(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}};function Qt(t){const e=Ht.parse(t),n=e.length;let r=0,s=0,i=0;for(let o=0;o<n;o++)r||"number"==typeof e[o]?r++:void 0!==e[o].hue?i++:s++;return{parsed:e,numNumbers:r,numRGB:s,numHSL:i}}const Xt=(t,e)=>{const n=Ht.createTransformer(e),r=Qt(t),s=Qt(e);return r.numHSL===s.numHSL&&r.numRGB===s.numRGB&&r.numNumbers>=s.numNumbers?Wt(Jt(r.parsed,s.parsed),n):(Bt(!0,`Complex values '${t}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),o=>`${o>0?e:t}`)},nn=(t,e)=>n=>S(t,e,n);function qt(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;V(i===e.length,"Both input and output ranges must be the same length"),V(!r||!Array.isArray(r)||r.length===i-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),t[0]>t[i-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const o=function sn(t,e,n){const r=[],s=n||function rn(t){return"number"==typeof t?nn:"string"==typeof t?W.test(t)?Ut:Xt:Array.isArray(t)?Jt:"object"==typeof t?en:void 0}(t[0]),i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]:e;a=Wt(c,a)}r.push(a)}return r}(e,r,s),a=2===i?function on([t,e],[n]){return r=>n(Lt(t,e,r))}(t,o):function an(t,e){const n=t.length,r=n-1;return s=>{let i=0,o=!1;if(s<=t[0]?o=!0:s>=t[r]&&(i=r-1,o=!0),!o){let c=1;for(;c<n&&!(t[c]>s||c===r);c++);i=c-1}const a=Lt(t[i],t[i+1],s);return e[i](a)}}(t,o);return n?c=>a(rt(t[0],t[i-1],c)):a}function cn(t,e){return t.map(()=>e||z).splice(0,t.length-1)}function K({from:t=0,to:e=1,ease:n,offset:r,duration:s=300}){const i={done:!1,value:t},o=Array.isArray(e)?e:[t,e],a=function un(t,e){return t.map(n=>n*e)}(r&&r.length===o.length?r:function ln(t){const e=t.length;return t.map((n,r)=>0!==r?r/(e-1):0)}(o),s);function c(){return qt(a,o,{ease:Array.isArray(n)?n:cn(o,n)})}let l=c();return{next:d=>(i.value=l(d),i.done=d>=s,i),flipTarget:()=>{o.reverse(),l=c()}}}const _t={keyframes:K,spring:it,decay:function dn({velocity:t=0,from:e=0,power:n=.8,timeConstant:r=350,restDelta:s=.5,modifyTarget:i}){const o={done:!1,value:e};let a=n*t;const c=e+a,l=void 0===i?c:i(c);return l!==c&&(a=l-e),{next:d=>{const f=-a*Math.exp(-d/r);return o.done=!(f>s||f<-s),o.value=o.done?l:l+f,o},flipTarget:()=>{}}}},te=1/60*1e3,pn=typeof performance<"u"?()=>performance.now():()=>Date.now(),ee=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(pn()),te);let ft=!0,P=!1,pt=!1;const j={delta:0,timestamp:0},C=["read","update","preRender","render","postRender"],J=C.reduce((t,e)=>(t[e]=function hn(t){let e=[],n=[],r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(c,l=!1,d=!1)=>{const f=d&&s,g=f?e:n;return l&&o.add(c),-1===g.indexOf(c)&&(g.push(c),f&&s&&(r=e.length)),c},cancel:c=>{const l=n.indexOf(c);-1!==l&&n.splice(l,1),o.delete(c)},process:c=>{if(s)i=!0;else{if(s=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let l=0;l<r;l++){const d=e[l];d(c),o.has(d)&&(a.schedule(d),t())}s=!1,i&&(i=!1,a.process(c))}}};return a}(()=>P=!0),t),{}),gn=C.reduce((t,e)=>{const n=J[e];return t[e]=(r,s=!1,i=!1)=>(P||xn(),n.schedule(r,s,i)),t},{}),yn=C.reduce((t,e)=>(t[e]=J[e].cancel,t),{}),bn=(C.reduce((t,e)=>(t[e]=()=>J[e].process(j),t),{}),t=>J[t].process(j)),ne=t=>{P=!1,j.delta=ft?te:Math.max(Math.min(t-j.timestamp,40),1),j.timestamp=t,pt=!0,C.forEach(bn),pt=!1,P&&(ft=!1,ee(ne))},xn=()=>{P=!0,ft=!0,pt||ee(ne)},vn=gn;function re(t,e,n=0){return t-e-n}const Sn=t=>{const e=({delta:n})=>t(n);return{start:()=>vn.update(e,!0),stop:()=>yn.update(e)}};function wn(t){var e,n,{from:r,autoplay:s=!0,driver:i=Sn,elapsed:o=0,repeat:a=0,repeatType:c="loop",repeatDelay:l=0,onPlay:d,onStop:f,onComplete:g,onRepeat:w,onUpdate:A}=t,T=(0,Ft._T)(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let x,h,O,{to:R}=T,y=0,m=T.duration,v=!1,M=!0;const Re=function fn(t){if(Array.isArray(t.to))return K;if(_t[t.type])return _t[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?K:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?it:K}(T);null!==(n=(e=Re).needsInterpolation)&&void 0!==n&&n.call(e,r,R)&&(O=qt([0,100],[r,R],{clamp:!1}),r=0,R=100);const Me=Re(Object.assign(Object.assign({},T),{from:r,to:R}));function er(St){if(M||(St=-St),o+=St,!v){const Se=Me.next(Math.max(0,o));h=Se.value,O&&(h=O(h)),v=M?Se.done:o<=0}A?.(h),v&&(0===y&&(m??(m=o)),y<a?function Mn(t,e,n,r){return r?t>=e+n:t<=-n}(o,m,l,M)&&function _n(){y++,"reverse"===c?(M=y%2==0,o=function Rn(t,e,n=0,r=!0){return r?re(e+-t,e,n):e-(t-e)+n}(o,m,l,M)):(o=re(o,m,l),"mirror"===c&&Me.flipTarget()),v=!1,w&&w()}():function tr(){x.stop(),g&&g()}())}return s&&function nr(){d?.(),x=i(er),x.start()}(),{stop:()=>{f?.(),x.stop()}}}class Q{constructor(e){(0,p.Z)(this,"top",void 0),(0,p.Z)(this,"left",void 0),(0,p.Z)(this,"right",void 0),(0,p.Z)(this,"bottom",void 0),this.top=e.top,this.left=e.left,this.right=e.right,this.bottom=e.bottom}width(){return this.right-this.left}height(){return this.bottom-this.top}midpoint(){return{x:S(this.left,this.right,.5),y:S(this.top,this.bottom,.5)}}}class se{constructor(e){(0,p.Z)(this,"origin",void 0),(0,p.Z)(this,"scale",void 0),(0,p.Z)(this,"translate",void 0),this.origin=e.origin,this.scale=e.scale,this.translate=e.translate}apply(e){return this.origin+(e-this.origin)*this.scale+this.translate}}class ht{constructor(){(0,p.Z)(this,"records",new WeakMap)}animate(e,n){let r;this.records.get(e)?.stop();const s=new Promise(o=>{const{duration:a,easing:c,route:l}=n,d=f=>this.animateFrame(e,l,f);d(0),r=wn({from:0,to:1,duration:a,ease:c,onUpdate:d,onComplete:()=>{e.reset(),o()},onStop:o}).stop}),i=new Tn(e,s,()=>r());return this.records.set(e,i),i}animateFrame(e,n,r){const s=this.calculateBoundingBox(n,r),i=this.calculateBorderRadiuses(n,r);e.borderRadiuses=i,e.project(s)}calculateBoundingBox(e,n){const r=e.boundingBoxFrom,s=e.boundingBoxTo;return new Q({top:S(r.top,s.top,n),left:S(r.left,s.left,n),right:S(r.right,s.right,n),bottom:S(r.bottom,s.bottom,n)})}calculateBorderRadiuses(e,n){const r=e.borderRadiusesFrom,s=e.borderRadiusesTo,i=(o,a,c)=>({x:S(o.x,a.x,c),y:S(o.y,a.y,c)});return{topLeft:i(r.topLeft,s.topLeft,n),topRight:i(r.topRight,s.topRight,n),bottomLeft:i(r.bottomLeft,s.bottomLeft,n),bottomRight:i(r.bottomRight,s.bottomRight,n)}}}class mt{constructor(e){(0,p.Z)(this,"engine",void 0),(0,p.Z)(this,"records",new WeakMap),this.engine=e}animate(e,n){this.records.get(e)?.stop();const{duration:r,easing:s,routes:i}=n,o=[];e.traverse(c=>{const l=i.get(c.id);if(!l)throw new Error("Unknown node");const f=this.engine.animate(c,{duration:r,easing:s,route:l});o.push(f)},{includeSelf:!0});const a=new Dn(e,o);return this.records.set(e,a),a}}class An extends Map{}class gt{constructor(e,n){(0,p.Z)(this,"promise",void 0),(0,p.Z)(this,"stopper",void 0),this.promise=e,this.stopper=n}then(e,n){return this.promise.then(e,n)}stop(){this.stopper()}}class Tn extends gt{constructor(e,n,r){super(n,r),(0,p.Z)(this,"node",void 0),this.node=e}}class Dn extends gt{constructor(e,n){super(Promise.all(n),()=>n.forEach(r=>r.stop())),(0,p.Z)(this,"root",void 0),this.root=e}}class yt{constructor(e,n,r){(0,p.Z)(this,"engine",void 0),(0,p.Z)(this,"measurer",void 0),(0,p.Z)(this,"easingParser",void 0),this.engine=e,this.measurer=n,this.easingParser=r}animate(e){const{root:n,from:r,estimation:s=!1}=e;"string"==typeof e.easing&&(e.easing=this.easingParser.parse(e.easing));const{duration:i=225,easing:o=z}=e;this.initialize(n);const a=this.getAnimationRouteMap(n,r,s);return this.engine.animate(n,{duration:i,easing:o,routes:a})}initialize(e){e.traverse(n=>n.reset(),{includeSelf:!0}),e.traverse(n=>n.measure(),{includeSelf:!0})}getAnimationRouteMap(e,n,r){const s=new An;return e.traverse(i=>{if(!i.measured())throw new Error("Unknown node");const o=n.get(i.id);if(s.has(i.id)&&i.element===o?.element)return;const a=o?.boundingBox||r&&this.estimateStartingBoundingBox(e,i,n)||i.boundingBox;s.set(i.id,{boundingBoxFrom:a,boundingBoxTo:i.boundingBox,borderRadiusesFrom:o?.borderRadiuses??i.borderRadiuses,borderRadiusesTo:i.borderRadiuses})},{includeSelf:!0}),s}estimateStartingBoundingBox(e,n,r){if(!n.measured())throw new Error("Unknown node");let i,s=n;for(;void 0===(i=r.get(s.id));){if(s===e||!s.parent)return;s=s.parent}if(!s.measured())throw new Error("Unknown ancestor");const a=s.calculateTransform(i.boundingBox).x.scale;return new Q({top:i.boundingBox.top-(s.boundingBox.top-n.boundingBox.top)*a,left:i.boundingBox.left-(s.boundingBox.left-n.boundingBox.left)*a,right:i.boundingBox.right-(s.boundingBox.right-n.boundingBox.right)*a,bottom:i.boundingBox.top-(s.boundingBox.top-n.boundingBox.bottom)*a})}}const oe=(t,e)=>1-3*e+3*t,ie=(t,e)=>3*e-6*t,ae=t=>3*t,X=(t,e,n)=>((oe(e,n)*t+ie(e,n))*t+ae(e))*t,ce=(t,e,n)=>3*oe(e,n)*t*t+2*ie(e,n)*t+ae(e),Fn=1e-7,Bn=10,En=8,On=.001,q=11,_=1/(q-1);function Nn(t,e,n,r){if(t===e&&n===r)return Tt;const s=new Float32Array(q);for(let o=0;o<q;++o)s[o]=X(o*_,t,n);return o=>0===o||1===o?o:X(function i(o){let a=0,c=1;const l=q-1;for(;c!==l&&s[c]<=o;++c)a+=_;--c;const f=a+(o-s[c])/(s[c+1]-s[c])*_,g=ce(f,t,n);return g>=On?function Ln(t,e,n,r){for(let s=0;s<En;++s){const i=ce(e,n,r);if(0===i)return e;e-=(X(e,n,r)-t)/i}return e}(o,f,t,n):0===g?f:function jn(t,e,n,r,s){let i,o,a=0;do{o=e+(n-e)/2,i=X(o,r,s)-t,i>0?n=o:e=o}while(Math.abs(i)>Fn&&++a<Bn);return o}(o,a,a+_,t,n)}(o),e,r)}class bt{parse(e,n,r){if(e.match(/\d.*?px \d.*?px/u)){const[s,i]=e.split(" ").map(o=>parseFloat(o));return{x:s,y:i}}if(B.test(e)){const s=parseFloat(e)/100;return{x:s*n,y:s*r}}if(We.test(e)){const s=parseFloat(e);return{x:s,y:s}}throw new Error(`Unsupported radius: ${e}`)}}class xt{parse(e){if("linear"===e)return Tt;if("ease"===e)return z;if("ease-in"===e)return et;if("ease-out"===e)return je;if("ease-in-out"===e)return z;if(e.startsWith("cubic-bezier")){const[n,r,s,i]=e.replace("cubic-bezier(","").replace(")","").split(",").map(o=>parseFloat(o));return Nn(n,r,s,i)}throw new Error(`Unsupported easing string: ${e}`)}}class Z{constructor(e){(0,p.Z)(this,"borderRadiusParser",void 0),this.borderRadiusParser=e}measureBoundingBox(e){return new Q(e.getBoundingClientRect())}measureBorderRadiuses(e,n=this.measureBoundingBox(e)){const r=getComputedStyle(e),s=i=>this.borderRadiusParser.parse(i,n.width(),n.height());return{topLeft:s(r.borderTopLeftRadius),topRight:s(r.borderTopRightRadius),bottomLeft:s(r.borderBottomLeftRadius),bottomRight:s(r.borderBottomRightRadius)}}}let E=(()=>{class t{constructor(n,r){(0,p.Z)(this,"element",void 0),(0,p.Z)(this,"measurer",void 0),(0,p.Z)(this,"id","anonymous-"+t.idNext++),(0,p.Z)(this,"activated",!1),(0,p.Z)(this,"parent",void 0),(0,p.Z)(this,"children",new Set),(0,p.Z)(this,"boundingBox",void 0),(0,p.Z)(this,"borderRadiuses",void 0),(0,p.Z)(this,"transform",void 0),this.element=n,this.measurer=r}identifyAs(n){this.id=n}activate(){this.activated=!0}deactivate(){this.activated=!1}attach(n){this.parent=n,n.children.add(this)}detach(){if(!this.parent)throw new Error("Missing parent");this.parent.children.delete(this),this.parent=void 0}traverse(n,r={}){r.includeSelf??=!1,r.includeDeactivated??=!1,r.includeSelf&&n(this),this.children.forEach(s=>{!r.includeDeactivated&&!s.activated||s.traverse(n,{...r,includeSelf:!0})})}track(){const n=[];let r=this.parent;for(;r;)n.unshift(r),r=r.parent;return n}reset(){this.transform=void 0,this.element.style.transform="",this.element.style.borderRadius=""}measure(){this.boundingBox=this.measurer.measureBoundingBox(this.element),this.borderRadiuses=this.measurer.measureBorderRadiuses(this.element,this.boundingBox)}measured(){return!!this.boundingBox&&!!this.borderRadiuses}project(n){if(!this.measured())throw new Error("Node not measured");this.transform=this.calculateTransform(n);const r={x:1,y:1},s=this.track();for(const g of s)g.transform&&(r.x*=g.transform.x.scale,r.y*=g.transform.y.scale);const i=this.element.style,o=this.transform;i.transform=[`translate3d(${o.x.translate/r.x}px, ${o.y.translate/r.y}px, 0)`,`scale(${o.x.scale}, ${o.y.scale})`].join(" ");const l_x=r.x*this.transform.x.scale,l_y=r.y*this.transform.y.scale,d=this.borderRadiuses,f=g=>`${g.x/l_x}px ${g.y/l_y}px`;i.borderTopLeftRadius=f(d.topLeft),i.borderTopRightRadius=f(d.topRight),i.borderBottomLeftRadius=f(d.bottomLeft),i.borderBottomRightRadius=f(d.bottomRight)}calculateTransform(n){const r=this.calculateTransformedBoundingBox(),s=r.midpoint(),i=n.midpoint(),o={x:new se({origin:s.x,scale:n.width()/r.width(),translate:i.x-s.x}),y:new se({origin:s.y,scale:n.height()/r.height(),translate:i.y-s.y})};return isNaN(o.x.scale)&&(o.x.scale=1),isNaN(o.y.scale)&&(o.y.scale=1),o}calculateTransformedBoundingBox(){if(!this.measured())throw new Error("Node not measured");let n=this.boundingBox;for(const r of this.track()){if(!r.boundingBox||!r.transform)continue;const s=r.transform;n=new Q({top:s.y.apply(n.top),left:s.x.apply(n.left),right:s.x.apply(n.right),bottom:s.y.apply(n.bottom)})}return n}}return(0,p.Z)(t,"idNext",1),t})();class vt{constructor(e){(0,p.Z)(this,"measurer",void 0),this.measurer=e}snapshot(e,n){const r=this.measurer.measureBoundingBox(e.element),s=this.measurer.measureBorderRadiuses(e.element,r);n.set(e.id,{element:e.element,boundingBox:r,borderRadiuses:s})}snapshotTree(e,n,r){const s=new Set;e.traverse(i=>{if(!r||r(i)){if(s.has(i.id))throw new Error(`Node ID conflict: "${i.id}"`);s.add(i.id),this.snapshot(i,n)}},{includeSelf:!0})}}class $ extends Map{}var le=b(4885),In=b(8105),ue=b(7612),Pn=b(3970),Cn=b(2170),de=b(2077),fe=b(3205),Zn=b(9930),pe=b(1368);function he(t,e){return e?n=>n.pipe(he((r,s)=>(0,fe.Xf)(t(r,s)).pipe((0,de.U)((i,o)=>e(r,i,s,o))))):(0,Zn.e)((n,r)=>{let s=0,i=null,o=!1;n.subscribe((0,pe.x)(r,a=>{i||(i=(0,pe.x)(r,void 0,()=>{i=null,o&&r.complete()}),(0,fe.Xf)(t(a,s++)).subscribe(i))},()=>{o=!0,!i&&r.complete()}))})}var $n=b(3273);function Un(){return he($n.y)}var Yn=b(7114),Rt=b(4291),kn=b(6469);const me={now:()=>(me.delegate||performance).now(),delegate:void 0};var ge=b(555);function ye(t){return new le.y(e=>{const n=t||me,r=n.now();let s=0;const i=()=>{e.closed||(s=ge.l.requestAnimationFrame(o=>{s=0;const a=n.now();e.next({timestamp:t?a:o,elapsed:a-r}),i()}))};return i(),()=>{s&&ge.l.cancelAnimationFrame(s)}})}const Vn=ye();var Gn=b(2314);class Hn{constructor(e,n){this.map=e,this.secondsBeforeDeletion=n,this.timeouts=new Map}stale(e){const n=setTimeout(()=>this.performDeletion(e),1e3*this.secondsBeforeDeletion);this.timeouts.set(e,n)}refresh(e){const n=this.timeouts.get(e);clearTimeout(n),this.timeouts.delete(e)}performDeletion(e){this.map.delete(e),this.timeouts.delete(e)}}let Wn=(()=>{class t{set lpjAnimationScope(n){""!==n&&(this.source=n)}constructor(n,r){this.templateRef=n,this.viewContainer=r}ngOnInit(){const n=this.createInjector(),r=n.get(be);this.viewContainer.createEmbeddedView(this.templateRef,{$implicit:r},{injector:n})}createInjector(){const{nodeRegistry:n=new U,entryRegistry:r=new Y,snapshots:s=new $}=this.source??{};return u.zs3.create({providers:[{provide:be},{provide:U,useValue:n},{provide:Y,useValue:r},{provide:$,useValue:s},{provide:xe}]})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(u.Rgc),u.Y36(u.s_b))},t.\u0275dir=u.lG2({type:t,selectors:[["","lpjAnimationScope",""]],inputs:{lpjAnimationScope:"lpjAnimationScope"}}),t})(),be=(()=>{class t{constructor(n,r,s){this.nodeRegistry=n,this.entryRegistry=r,this.snapshots=s}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(U),u.LFG(Y),u.LFG($))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})();class U extends Set{}class Y extends Set{}let xe=(()=>{class t extends Hn{constructor(n){super(n,10)}}return t.\u0275fac=function(n){return new(n||t)(u.LFG($))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})(),Mt=(()=>{class t{set lpjAnimation(n){"string"!=typeof n&&(this.config=n)}constructor(n,r,s,i,o){this.node=n,this.animator=r,this.snapper=s,this.snapshots=i,this.nodeRegistry=o,this.config={}}snapshot(){const n=this.nodeRegistry?.has.bind(this.nodeRegistry);this.snapper.snapshotTree(this.node,this.snapshots,n)}animate(){if(!this.snapshots)throw new Error("Missing snapshots");return this.animator.animate({root:this.node,from:this.snapshots,...this.config})}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(E,2),u.Y36(yt),u.Y36(vt),u.Y36($,1),u.Y36(U,9))},t.\u0275dir=u.lG2({type:t,selectors:[["","lpjNode","","lpjAnimation",""]],inputs:{lpjAnimation:"lpjAnimation"},exportAs:["lpjAnimation"]}),t})(),Kn=(()=>{class t{constructor(n,r,s){this.node=n,this.registry=r,this.snapshots=s}ngOnInit(){this.registry?.add(this.node),this.snapshots?.refresh(this.node.id)}ngOnDestroy(){this.registry?.delete(this.node),this.snapshots?.stale(this.node.id)}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(E,2),u.Y36(U,9),u.Y36(xe,9))},t.\u0275dir=u.lG2({type:t,selectors:[["","lpjNode",""]]}),t})(),Jn=(()=>{class t{constructor(n,r){this.entry=n,this.registry=r}ngOnInit(){this.registry?.add(this.entry)}ngOnDestroy(){this.registry?.delete(this.entry)}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(Mt,2),u.Y36(Y,9))},t.\u0275dir=u.lG2({type:t,selectors:[["","lpjAnimation",""]]}),t})(),ve=(()=>{class t{set lpjAnimationTrigger(n){const r=n instanceof le.y?n.pipe((0,In.O)((0,ue.of)(n))):(0,ue.of)(n);this.trigger$.next(r)}set lpjAnimationTriggerFor(n){const r=s=>s instanceof E?s.id:s;this.targetIds=n instanceof Array?n.map(r):[r(n)]}constructor(n){this.entryRegistry=n,this.trigger$=new Pn.X(Cn.E),this.targetIds=[],this.animationTrigger=new u.vpe,this.animationSettle=new u.vpe}ngOnInit(){this.trigger$.pipe(Un(),(0,Yn.T)(1),(0,Rt.b)(()=>this.animationTrigger.emit()),(0,Rt.b)(()=>this.snapshot()),(0,kn.w)(()=>function zn(t){return t?ye(t):Vn}().pipe((0,Gn.P)())),(0,de.U)(()=>this.animate()),(0,Rt.b)(n=>n.then(()=>this.animationSettle.emit()))).subscribe()}snapshot(){this.findTargets().forEach(n=>n.snapshot())}animate(){const n=this.findTargets().map(r=>r.animate());return new gt(Promise.all(n),()=>n.forEach(r=>r.stop()))}findTargets(){const n=Array.from(this.entryRegistry).filter(r=>this.targetIds.includes(r.node.id));if(!n.length)throw new Error("Failed to find any target entry");return n}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(Y,1))},t.\u0275dir=u.lG2({type:t,selectors:[["","lpjAnimationTrigger",""]],inputs:{lpjAnimationTrigger:"lpjAnimationTrigger",lpjAnimationTriggerFor:"lpjAnimationTriggerFor"},outputs:{animationTrigger:"animationTrigger",animationSettle:"animationSettle"}}),t})(),Qn=(()=>{class t{constructor(n,r){r.lpjAnimationTriggerFor=n.node}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(Mt,2),u.Y36(ve,2))},t.\u0275dir=u.lG2({type:t,selectors:[["","lpjAnimation","","lpjAnimationTrigger",""]]}),t})(),Xn=(()=>{class t extends E{set lpjNode(n){"string"==typeof n?(n&&this.identifyAs(n),this.activate()):this.deactivate()}constructor(n,r,s){super(n.nativeElement,r),s&&this.attach(s)}ngOnDestroy(){this.parent&&this.detach()}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(u.SBq),u.Y36(Z),u.Y36(E,12))},t.\u0275dir=u.lG2({type:t,selectors:[["","lpjNode",""]],inputs:{lpjNode:"lpjNode"},exportAs:["lpjNode"],features:[u._Bn([{provide:E,useExisting:t}]),u.qOj]}),t})(),qn=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[{provide:yt,useFactory:()=>new yt((0,u.f3M)(mt),(0,u.f3M)(Z),(0,u.f3M)(xt))},{provide:ht,useFactory:()=>new ht},{provide:mt,useFactory:()=>new mt((0,u.f3M)(ht))},{provide:Z,useFactory:()=>new Z((0,u.f3M)(bt))},{provide:vt,useFactory:()=>new vt((0,u.f3M)(Z))},{provide:bt,useFactory:()=>new bt},{provide:xt,useFactory:()=>new xt}]}),t})()}}]);